(this["webpackJsonppetition-for-taiwan"]=this["webpackJsonppetition-for-taiwan"]||[]).push([[0],{198:function(e,t,a){e.exports=a.p+"static/media/mail.15bf3778.svg"},215:function(e,t,a){e.exports=a(371)},220:function(e,t,a){},238:function(e,t,a){},243:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(51),s=a.n(r),i=(a(220),a(21)),o=a(22),c=a(23),m=a(24),u=a(25),d=a(43),p=a(47),h=a(52),g=a.n(h),E=(a(238),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).countDownTimer=function(){var t=new Date("Oct 10, 2019 00:00:00 GMT+02:00").getTime()-(new Date).getTime(),a=Math.floor(t/864e5),n=Math.floor(t%864e5/36e5),l=Math.floor(t%36e5/6e4);e.setState({countDownDays:a,countDownHours:n,countDownMinutes:l})},e.nextStep=function(){var t=e.step.currentStep;t++,e.setState({currentStep:t})},e.state={countDownDays:0,countDownHours:0,countDownMinutes:0,petitionNumber:0,isLoaded:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval(this.countDownTimer,1e3),g.a.get("https://germany-diplomatic-petition.appspot.com/petition").then((function(t){var a=t.data.petition_count;e.setState({petitionNumber:a,isLoaded:!0})}))}},{key:"render",value:function(){var e,t=this.state,a=t.countDownDays,n=t.countDownHours,r=t.countDownMinutes,s=t.petitionNumber;return e=!1===t.isLoaded?l.a.createElement("span",null,"\u6293\u53d6\u4e2d..."):l.a.createElement("span",null,s),l.a.createElement("div",{className:"App-header"},l.a.createElement("h1",null,"\u81ea\u5df1\u7684\u5916\u4ea4\u81ea\u5df1\u6551"),l.a.createElement("div",{className:"reason"},"\u5fb7\u570b\u570b\u6703\u53ef\u901a\u904e\u8981\u6c42\u5fb7\u570b\u653f\u5e9c\u8207\u81fa\u7063\u5efa\u7acb\u6b63\u5f0f\u5916\u4ea4\u95dc\u4fc2\uff0c\u8acb\u9858\u5167\u5bb9\u5c07\u4e88\u4ee5\u516c\u958b\u5f8c\u65bc\u570b\u6703\u8a0e\u8ad6\uff0c\u60df\u5176\u5148\u6c7a\u689d\u4ef6\u9808\u57284\u9031\u5167\uff08\u81ea2019\u5e749\u670811\u65e5\u8d77\u8a08\u81f310\u670810\u65e5\u6b62\uff09\u7372\u5f97\u5168\u74035\u842c\u4eba\u4ee5\u4e0a\u4e4b\u9023\u7f72\u3002"),l.a.createElement("p",{className:"count-down"},l.a.createElement("span",null,"\u5012\u6578"),a," \u5929 ",n," \u5c0f\u6642 ",r," \u5206\u9418 "),l.a.createElement(d.b,{className:"petition-button",to:"/step1"},"\u958b\u59cb\u9023\u7f72"),l.a.createElement("h3",null,"\u76ee\u524d\u9023\u7f72\u4eba\u6578\uff1a",e))}}]),t}(l.a.Component)),f=a(29),b=a(65),v=a(384),w=a(383),y=a(379),x=a(382),S=a(381),C=(a(243),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).getTimeStamp=function(){var t=(new Date).getTime();e.setState({sectimestamp:t})},e.getPetitionNumber=function(){g.a.get("https://germany-diplomatic-petition.appspot.com/petition").then((function(t){var a=t.data.petition_count;e.setState({petitionNumber:a})}))},e.handleModal=function(){var t=e.state.isLoading;e.setState({isLoading:!t})},e.handleChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(f.a)({},a,n))},e.handleRadio=function(t){t.target.name;var a=parseInt(t.target.value);e.setState({mitzeichnerliste_name:a})},e.handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,passwort:e.state.passwort,mitzeichnerliste_name:e.state.mitzeichnerliste_name,sectimestamp:e.state.sectimestamp,_charset_:"UTF-8"};e.setState({isLoading:!0}),g.a.post("https://germany-diplomatic-petition.appspot.com/signin",a).then((function(t){console.log(t),t.data.message.includes("success")?(e.getPetitionNumber(),e.setState({result:"success"}),console.log("success")):t.data.message.includes("failed")?e.setState({result:"fail"}):console.log(t.data.message)}))},e.state={email:"",passwort:"",mitzeichnerliste_name:1,sectimestamp:null,_charset_:"UTF-8",isLoading:!1,result:null,petitionNumber:0},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getTimeStamp()}},{key:"render",value:function(){var e,t=this.state,a=t.isLoading,n=t.result;return a&&!n?e=l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{loading:!0,name:"spinner",color:"#fff549",size:"huge"}),l.a.createElement("p",null,"\u8655\u7406\u4e2d...")):a&&"fail"===n?e=l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{name:"times circle",size:"huge",color:"#fff549"}),l.a.createElement("p",{className:"model-text"},"\u9023\u7f72\u5931\u6557\uff0c\u8acb\u91cd\u65b0\u78ba\u8a8d\u8a3b\u518a\u4fe1\u7bb1\u53ca\u5bc6\u78bc")):a&&"success"===n&&(e=l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{name:"thumbs up outline",size:"huge",color:"#fff549"}),l.a.createElement("p",{className:"model-text"},"\u9023\u7f72\u6210\u529f\uff01\u8b1d\u8b1d\u4f60\u7684\u4e00\u4efd\u5fc3\u610f"),l.a.createElement("p",null,"\u76ee\u524d\u9023\u7f72\u4eba\u6578\u70ba\uff1a",this.state.petitionNumber))),l.a.createElement(v.a,{id:"petition-page",textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},l.a.createElement(v.a.Column,{style:{width:"480px",borderRadius:"5px"}},l.a.createElement(w.a,{as:"h2",color:"black",textAlign:"center",style:{marginTop:"20px",paddingTop:"30px",color:"#fff"}},"Step 3 : \u7acb\u5373\u9023\u7f72"),l.a.createElement(y.a,{size:"large",onSubmit:this.handleSubmit},l.a.createElement(x.a,{stacked:!0,style:{backgroundColor:"rgba(255,255,255,0.2)"}},l.a.createElement(y.a.Input,{fluid:!0,icon:"user",name:"email",iconPosition:"left",placeholder:"\u8acb\u8f38\u5165\u8a3b\u518a\u4fe1\u7bb1",onChange:this.handleChange,required:!0}),l.a.createElement(y.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",type:"password",autoComplete:"false",name:"passwort",required:!0,onChange:this.handleChange}),l.a.createElement("div",{className:"petition-way"},l.a.createElement(w.a,{as:"h4",color:"black",textAlign:"left"},"\u9078\u64c7\u9023\u7f72\u65b9\u5f0f\uff1a"),l.a.createElement("input",{type:"radio",name:"mitzeichnerliste_name",value:"1",onChange:this.handleRadio,checked:!0}),l.a.createElement("span",{className:"radio-text"},"\u6211\u60f3\u5728\u8acb\u9858\u540d\u55ae\u5217\u8868\u4e2d\u5217\u51fa\u5168\u540d\u548c\u59d3\u6c0f"),l.a.createElement("br",null),l.a.createElement("input",{type:"radio",name:"mitzeichnerliste_name",value:"0",onChange:this.handleRadio}),l.a.createElement("span",{className:"radio-text"},"\u6211\u4e0d\u60f3\u5217\u51fa\u540d\u5b57\uff0c\u5217\u51fa\u8a3b\u518a\u6642\u81ea\u52d5\u5275\u5efa\u7684\u9023\u7f72\u4eba\u7de8\u865f\u5373\u53ef")),l.a.createElement(S.a,{className:"petition-btn",fluid:!0,size:"large",type:"submit"},"\u9001\u51fa\u9023\u7f72"),l.a.createElement("div",{className:"modal",style:{visibility:this.state.isLoading?"visible":"hidden"}},l.a.createElement("div",{className:"modal-content"},l.a.createElement(b.a,{name:"close",className:"modal-close",size:"small",onClick:this.handleModal,circular:!0,inverted:!0}),e))))))}}]),t}(l.a.Component)),k=a(203),z=(a(352),a(198)),_=a.n(z),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={},a.handleChange=function(e,t){var n=t.value;return a.setState({value:n})},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(v.a,{id:"petition-page",textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},l.a.createElement(v.a.Column,{style:{width:"480px",borderRadius:"5px"}},l.a.createElement(w.a,{as:"h2",color:"black",textAlign:"center",style:{marginTop:"20px",paddingTop:"30px",color:"#fff"}},"Step 2 : \u6536\u4fe1\u78ba\u8a8d"),l.a.createElement(y.a,{size:"large"},l.a.createElement(x.a,{stacked:!0,style:{backgroundColor:"rgba(255,255,255,0.2)"}},l.a.createElement(k.a,{src:_.a,size:"small",style:{margin:"0 auto"}}),l.a.createElement("p",{style:{fontSize:"20px",marginTop:"1em"}},"\u8acb\u524d\u5f80\u8a3b\u518a\u4fe1\u7bb1\u6536\u53d6",l.a.createElement("span",{style:{color:"red"}},"\u5b98\u65b9\u78ba\u8a8d\u4fe1(\u5fb7\u6587)"),"(\u9700\u7b49\u5f852-3\u5206\u9418)\uff0c\u4e26\u9ede\u64ca\u4fe1\u4ef6\u5167\u4e2d\u7684\u8d85\u9023\u7d50\u4f86\u555f\u52d5\u5e33\u865f"),l.a.createElement(d.b,{to:"/step3"},l.a.createElement(S.a,{className:"petition-btn",fluid:!0,size:"large"},"\u78ba\u8a8d\u5b8c\u7562"))))))}}]),t}(l.a.Component),F=a(380),O=a(378),j=(a(353),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).getTimeStamp=function(){var t=(new Date).getTime();e.setState({sectimestamp:t})},e.handleChange=function(t){var a=t.target.name;e.setState(Object(f.a)({},a,t.target.value))},e.handleModal=function(){var t=e.state.isLoading;e.setState({isLoading:!t,responseMessage:"",registerSuccess:null,email:"",passwort:"",passwort_wiederholen:""})},e.handleSubmit=function(t){t.preventDefault(),e.setState({isLoading:!0});var a={email:e.state.email,passwort:e.state.passwort,passwort_wiederholen:e.state.passwort_wiederholen,datenschutz_ok:e.state.datenschutz_ok,nutzungsbed_ok:e.state.nutzungsbed_ok,vorname:e.state.vorname,nachname:e.state.nachname,str_nr:e.state.str_nr,ort:e.state.ort,land:e.state.land,plz:e.state.plz,sectimestamp:e.state.sectimestamp,_charset_:"UTF-8",JavaScriptEnable:!0,btAbsendenMitRegistrieren:"Jetzt registrieren"};g.a.post("https://germany-diplomatic-petition.appspot.com/register",a).then((function(t){console.log(t),"email"in t.data?e.setState({responseMessage:t.data.email}):"passwort"in t.data?e.setState({responseMessage:t.data.passwort}):"passwort_wiederholen"in t.data?e.setState({responseMessage:t.data.passwort_wiederholen}):t.data.message&&t.data.message.includes("registered")?e.setState({responseMessage:"\u8acb\u78ba\u8a8d\u4fe1\u7bb1\u662f\u5426\u5df2\u7d93\u8a3b\u518a\u904e"}):t.data.message&&t.data.message.includes("successfully")?(e.setState({registerSuccess:!0}),setTimeout((function(){e.props.history.push("/step2")}),2e3)):e.setState({responseMessage:t.data.message})})).catch((function(e){return console.log(e)}))},e.state={email:"",passwort:"",passwort_wiederholen:"",datenschutz_ok:1,nutzungsbed_ok:1,vorname:"",nachname:"",str_nr:"",ort:"",land:"TW",plz:"",sectimestamp:"",isLoading:!1,responseMessage:"",registerSuccess:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getTimeStamp()}},{key:"render",value:function(){var e,t=this.state,a=t.responseMessage,n=t.isLoading,r=t.registerSuccess;n&&r?e=l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{name:"thumbs up outline",size:"huge",color:"#fff549"}),l.a.createElement("p",{className:"model-text"},"\u8a3b\u518a\u6210\u529f\uff01")):n&&!a?e=l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{loading:!0,name:"spinner",color:"#fff549",size:"huge"}),l.a.createElement("p",{className:"model-text"},"\u8655\u7406\u4e2d...")):n&&a&&(e=l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{name:"times circle",size:"huge",color:"#fff549"}),l.a.createElement("p",{className:"model-text"},"\u8a3b\u518a\u5931\u6557 :",a)));return l.a.createElement(v.a,{id:"registration-page",textAlign:"center",style:{height:"100vh"},verticalAlign:"middle"},l.a.createElement(v.a.Column,{style:{borderRadius:"5px",maxWidth:"1024px"}},l.a.createElement(w.a,{as:"h2",color:"black",textAlign:"center",style:{marginTop:"20px",paddingTop:"30px",color:"#fff"}},"Step 1 : \u7acb\u5373\u8a3b\u518a"),l.a.createElement(y.a,{size:"large",className:"form-container",onSubmit:this.handleSubmit,style:{background:"transparent"}},l.a.createElement(x.a,{stacked:!0,style:{margin:"1rem",height:"430px",width:"480px",backgroundColor:"rgba(255,255,255,0.2)"}},l.a.createElement(w.a,{as:"h3"},"\u5e33\u6236\u8cc7\u8a0a"),l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{htmlFor:"email"},"E-mail"),l.a.createElement("input",{type:"text",name:"email",placeholder:"\u8acb\u586b\u5165\u672a\u8a3b\u518a\u904e\u7684E-mail",onChange:this.handleChange,value:this.state.email,required:"required"})),l.a.createElement(y.a.Group,{widths:"equal"},l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{style:{display:"inline-block"},htmlFor:"passwort"},"\u5bc6\u78bc"),l.a.createElement(F.a,{trigger:l.a.createElement(b.a,{name:"question circle outline",color:"red",size:"small"}),content:"1. \u5bc6\u78bc\u5fc5\u9808\u542b\u6709\u81f3\u5c11\u4e00\u500b\u5927\u5beb\u548c\u5c0f\u5beb\u5b57\u6bcd\u4ee5\u53ca\u4e00\u500b\u6578\u5b57\u6216\u7279\u6b8a\u7b26\u865f 2. \u9577\u5ea6\u81f3\u5c11\u8d85\u904e8\u500b\u5b57\u5143",position:"top left"}),l.a.createElement("input",{type:"password",autoComplete:"false",name:"passwort",placeholder:"\u8acb\u8a2d\u5b9a\u7b26\u5408\u898f\u683c\u7684\u5bc6\u78bc",onChange:this.handleChange,value:this.state.passwort,required:!0})),l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{htmlFor:"passwort_wiederholen"},"\u78ba\u8a8d\u5bc6\u78bc"),l.a.createElement("input",{type:"password",name:"passwort_wiederholen",autoComplete:"false",placeholder:"\u8acb\u518d\u6b21\u8f38\u5165\u5bc6\u78bc",onChange:this.handleChange,value:this.state.passwort_wiederholen,required:!0}))),l.a.createElement(y.a.Field,{required:!0},l.a.createElement(O.a,{name:"datenschutz_ok",value:"1",label:"\u4e86\u89e3\u4e26\u95b1\u8b80\u96b1\u79c1\u6b0a\u653f\u7b56",checked:!0})),l.a.createElement(y.a.Field,{required:!0},l.a.createElement(O.a,{name:"nutzungsbed_ok",value:"1",label:"\u540c\u610f\u4f7f\u7528\u689d\u6b3e",checked:!0}))),l.a.createElement(x.a,{stacked:!0,style:{minHeight:"430px",width:"480px",backgroundColor:"rgba(255,255,255,0.2)"}},l.a.createElement(w.a,{as:"h3"},"\u500b\u4eba\u8cc7\u8a0a",l.a.createElement("span",{style:{fontSize:"14px"}},"(\u8acb\u4f7f\u7528\u82f1\u6587\u586b\u5beb)")),l.a.createElement(y.a.Group,{widths:"equal"},l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{htmlFor:"vorname"},"\u540d\u5b57"),l.a.createElement("input",{type:"text",name:"vorname",placeholder:"",onChange:this.handleChange,value:this.state.vorname,required:"required"})),l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{htmlFor:"nachname"},"\u59d3\u6c0f"),l.a.createElement("input",{type:"text",name:"nachname",placeholder:"",onChange:this.handleChange,value:this.state.nachname,required:!0}))),l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{style:{display:"inline-block"},htmlFor:"str_nr"},"\u5730\u5740"),l.a.createElement("input",{type:"text",name:"str_nr",id:"str_nr",placeholder:"\u8acb\u8f38\u5165\u884c\u653f\u5340\u57df/\u8857\u9053\u540d/\u9580\u724c\u865f\u78bc",onChange:this.handleChange,value:this.state.str_nr,required:!0})),l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{htmlFor:"ort"},"\u57ce\u5e02"),l.a.createElement("input",{type:"text",name:"ort",placeholder:"",onChange:this.handleChange,value:this.state.ort,required:!0})),l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{htmlFor:"land"},"\u570b\u5bb6"),l.a.createElement(y.a.Select,{name:"land",placeholder:"\u570b\u5bb6",options:[{key:"TW",value:"TW",text:"\u53f0\u7063"}],onChange:this.handleChange,value:this.state.land})),l.a.createElement(y.a.Field,{required:!0},l.a.createElement("label",{htmlFor:"plz"},"\u90f5\u905e\u5340\u865f"),l.a.createElement("input",{type:"text",name:"plz",placeholder:"",value:this.state.plz,onChange:this.handleChange,required:!0}))),l.a.createElement(S.a,{style:{width:"200px",margin:"0 200px",backgroundColor:"#000",color:"#fff549"},className:"signin-btn",fluid:!0,size:"large",type:"submit"},"\u9001\u51fa\u8a3b\u518a")),l.a.createElement("div",{className:"modal",style:{visibility:this.state.isLoading?"visible":"hidden"}},l.a.createElement("div",{className:"modal-content"},l.a.createElement(b.a,{name:"close",className:"modal-close",size:"small",onClick:this.handleModal,circular:!0,inverted:!0}),e))))}}]),t}(l.a.Component)),q=Object(p.f)(j),T=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement(p.c,null,l.a.createElement(p.a,{exact:!0,path:"/",component:E}),l.a.createElement(p.a,{path:"/step1",component:q}),l.a.createElement(p.a,{path:"/step2",component:N}),l.a.createElement(p.a,{path:"/step3",component:C})))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(370);s.a.render(l.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[215,1,2]]]);
//# sourceMappingURL=main.17e4de74.chunk.js.map